{% extends 'base.html' %}

{% block title -%}Login - {% endblock -%}

{% block container -%}
    <div id="header"> <!-- !TODO will be imported using python instead of writting it-->
        <div class="links">
            <a class = "navButtons" href = "{{url_for('main.index')}}"> Return </a>
        </div>
    </div>

    <div id = "main">
        <div id = "mainText"  style = "margin-bottom : 3%">
            <h1>
                Login
            </h1>
            <em>"Welcome back! Let's get started."</em>

            <form novalidate class="login" action="{{url_for('auth.login')}}" method="POST">
                <!-- TODO make better -->
                {{ form.hidden_tag() }}
                {% for field in form if field.name not in ['csrf_token', 'submit'] -%}
                    {{ field.label() -}}
                    {% if field.errors -%}
                        {{ field(class='invalid', value = '', placeholder = field.errors[0]) }}
                    {% elif get_flashed_messages() -%}
                        {% for cat, msg in get_flashed_messages(True) -%}
                            {% if cat==field.name -%}
                                {{ field(class='invalid', value='', placeholder=msg) }}
                            {% else -%}
                                {{ field() }}
                            {% endif -%}
                        {% endfor %}
                    {% else -%}
                        {{ field() }}
                    {% endif -%}

                {% endfor -%}
                {{ form.submit() }} 
            </form>
            <p>Don't you have an account?  &nbsp;&nbsp;
                <a class = "navButtons" href = "{{url_for('auth.register')}}" style = "text-decoration: underline;">Register</a>
            </p>
        </div>
    </div>

    <div id="footer"> <!-- !TODO will be imported using python instead of writting it-->
        <a class = "footerButtons" href = "{{url_for('main.contact')}}"> Contact Us </a>
        <a class = "footerButtons" href = "{{url_for('main.help')}}"> Help </a>
        <a class = "footerButtons" href = "{{url_for('main.about')}}"> About Us </a>
    </div>
{% endblock -%}
