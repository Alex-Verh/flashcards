{% extends 'base.html' %}

{% block title -%}Cardset - {% endblock -%}
{% block css -%}<link href="{{ url_for('static', filename='css/cards.css') }}" rel="stylesheet" type="text/css">{% endblock %}


{% block header -%}
    {{super()}}
    <a id = "return" onclick="history.back()"><img src="../static/images/return.png" alt="Return Back"> </a>
    {%  include "snippets/constructor.html" %}
{% endblock -%}

{% block main %}
    <h1 data-is_public="{{cardset.is_public | int}}" data-id="{{cardset.id}}" style="font-size: 5vh;">{{cardset.title}}</h1>
    <div id = "flashcards">
    </div>
    
    <div id = "cardset-buttons">
        {% if cardset.flash_cards.count() %}
        <a href="{{url_for('cards.learn', id=cardset.id)}}" class="cardset-button">Learn</a>
        {% endif %}
        {% if current_user.id == cardset.user_id -%}
            <a href="#" id="create-flashcard" class="cardset-button">Add card</a>
            <a href="#" class="cardset-button" style="color:#ff0000cc">Delete</a>
        {% endif -%}
    </div>
    {% if current_user.is_authenticated and current_user.id != cardset.user_id  -%}
    <div id = "save-div"  onclick="saveCardSet('{{cardset.id}}')">
        {% if cardset in current_user.saved_cardsets.all() -%}
            <img id="save-cardset-{{cardset.id}}" src="{{url_for('static', filename='images/save1.png')}}" alt="Save">
        {% else -%}
            <img id="save-cardset-{{cardset.id}}" src="{{url_for('static', filename='images/save2.png')}}" alt="Save">
        {% endif -%}
    </div>
    {% endif -%}
{% endblock %}
{% block script -%}
    <script src="{{ url_for('static', filename='scripts/cards/cardset.js') }}"></script>
{% endblock %}