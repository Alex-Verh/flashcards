{% macro create_form(form, class, flash_messages=[]) %}
    <form novalidate class="{{ class }}" action="" method="POST">
        {{ form.hidden_tag() }}
        {% for field in form if field.name not in ['csrf_token', 'submit'] -%}
            {{ field.label() -}}
            {% if field.errors -%}
                {{ field(class='invalid', value = '', placeholder = field.errors[0]) }}
            {% else -%}
                {{ field() -}} 
            {% endif -%}
        {% endfor -%}
        {{ form.submit() }}  

        {% for cat, msg in flash_messages -%}
        <em class="{{cat}}-msg">{{msg}}</em>
        {% endfor -%}
    </form>
{% endmacro %}  